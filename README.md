# DEEM

 DEEM ( Deligistic Exucational Electronal Magazine ) - проект социально-образовательной платформы на основе программы обучения "Делигизм".

Электронный журнал DEEM предназначен для университетского образования. Он включает в себя наличие групп, общих чатов групп, клубов, ленты новостей, рейтинга групп, факультетов и студентов, статистику индивидуальных баллов, расписание уроков, систему специализированных экзаменов и многое другое.

DEEM создан на основе микросервисов Spring Eureka (более 10 сервисов), mysql, поддержкой кэширования, security-jwt, мобильного приложения (android studio) с Room и retrofit и т.д.


&ensp;
# Запуск
На данный момент проходит закрытое бета-тестирование в Google Play Market.
Для попадания в закрытое бета-тестирование можете написать на адрес: s0ma.inc2017@gmail.com.

<p align="center">
  <a href="https://play.google.com/apps/testing/com.kosta.deem">
    <img src="https://conversations.im/images/get-it-on-play.png" alt="Get it on Google Play" height="80">
  </a>
</p>

&ensp;

# Другие возможности приложения

- Поддержка видео- и сервисов изображений. 
- Образовательные экзамены реализованы на основе веб-сервиса.
- Для регистрации аккаунтов пользователей и изменения их личных данных существует сервис администрации и приложение AdminDEEM для администраторов.
- Для преподавателей существует отдельный сервис для изменения расписания.
- Реализован Push-сервис - отправка актуальных уведомлений клиентам через WebSocket. Также есть версия на основе kafka.
- Отдельный сервис статистик для сбора информации. В основном собирается зависимость баллов от времени.
- Поддержка сервиса мессенджера: групповые и личные чаты, сообщение с фото и видео. 
- Поддержка сервисов групп, клубов и новостей. Каждая группа имеет личный чат. Каждая группа может опубликовать новость. Каждая группа распределена в рейтинге. Каждый аккаунт может иметь только 1 клуб.
- Кэширование включено. Доступ к БД оптимизирован.
- rate limiting, grafana, prometheus и другое...

&ensp;

- В приложении DEEM реализована кэш-система на основе LiveData. Система автоматизирована - любое изменение данных сразу же сохраняется в БД через Room.
- Загрузка изображений происходит по принципу Lazy load (ленивая загрузка) через retrofit. После этого изображения сразу же сохраняются в кэше и перед обращением на сервер проверяют наличие изображения в кэше.
- Загрузка видео работает по похожей системе как изображения. Протокол зазгрузки видео - HLS. Принцип кэширования такой же. Однако используется другой принцип создания UUID по сравнению с изображениями. UUID видео создается после хэширования видео SHA-256.
- Любое обновление данных асинхронное. При авторизации данные загружаются сперва из кэша и после делается запрос на сервер.
- Прием push-уведомлений на основе класса вебсокетов PushClient.

&ensp;

## Сборка (IDLE) (устарело)
&ensp;

1. Для запуска сервера необходимо иметь SQL БД. Все настройки таблиц находятся внутри папки docs в файле dilichi. Нужно будет импортировать этот файл в БД.

2. Каждый сервис должен содержать файл application.properties. Конфигурация этого файла находятся внутри папки docs. Для начала работы необходимо сгенерировать секретный код и jwt ключ и вставить в конфигурацию.
Я предлагаю использовать начальный jwt ключ сгенерированный мною: 
```
eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJVc2VyIGRldGFpbHMiLCJ1c2VybmFtZSI6IlRhbyIsImlkIjo0LCJST0xFIjoiUk9MRV9ISUdIIiwiY291cnNlIjoxLCJmYWN1bHR5IjoiRVBGIiwiaWF0IjoxNzAyNjM0NzUyLCJpc3MiOiJtZXJvbmkiLCJleHAiOjIwNjI2MzQ3NTJ9.5YdyXgKdeyigRDfc7kTjKUW8gKcfItg4YQon_rPtnwM
```

И секретный код:
```
5367566B59703373367639792F423F4528482B4D6251655468576D5A71347437
```
3. Собрать и запустить сервисы в intelij idea 

На данный момент не рекомендуется изменять адреса и порты так как необходимые порты и адреса прописаны в RestTemplate-сервисах.

&ensp;

# Превью
<img src="img/1.jpg" alt="drawing" width="200"/> <img src="img/2.jpg" alt="drawing" width="200"/>
<img src="img/3.jpg" alt="drawing" width="200"/>
<img src="img/4.jpg" alt="drawing" width="200"/>
<img src="img/5.jpg" alt="drawing" width="200"/>
<img src="img/6.jpg" alt="drawing" width="200"/>
<img src="img/7.jpg" alt="drawing" width="200"/>
<img src="img/8.jpg" alt="drawing" width="200"/>
<img src="img/9.jpg" alt="drawing" width="200"/>
<img src="img/10.jpg" alt="drawing" width="200"/>
<img src="img/11.jpg" alt="drawing" width="200"/>
<img src="img/12.jpg" alt="drawing" width="200"/>
